<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Moe Quest</title>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/themes/smoothness/jquery-ui.css" />
	<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
	<link rel="stylesheet" type="text/css" href="src/moequest.css" />
	<script src="src/moequest.js"></script>
	<script src="src/moeillustra.js"></script>
	<style>
body {
	background-color: AliceBlue;
}
#heading {
	position: absolute;
	top: 0%;
	left: 9%;
}

#sidebar {
	background-color: LightGreen;
	height: 50%;
	width: 15%;
	border: 5px solid green;
	border-style: inset;
	position: fixed;
	top: 20%;
	left: 0%;
}
#sidebar ul {
	list-style-type: none;
	position: relative;
	top: 5%;
	left: 0%;
}
#sidebar ul li {
	align: center;
	color: DodgerBlue;
	font-size: large;
	margin:0.2em auto;
	border: 2px solid white;
	border-style: outset;
	padding: 8% 8% 8% 16%;
}
#sidebar ul .active {
	border-style: inset;
}
#sidebar ul :hover { 
	background-color:yellow;
}

body #content .active {
	visibility: inherit;
}
body #content .inactive {
	visibility: hidden;
}
#content {
	height: 100%;
	width: 85%;
}
#quest {
	background-color: LightGreen;
	height: 60%;
	width: 60%;
	position: absolute;
	top: 25%;
	left: 20%;
	border: 8px inset #98bf21;
	padding: 3px;
}
#ans {
	background-color: LightGreen;
	height: 15%;
	width: 50%;
	position: absolute;
	top: 1%;
	left: 25%;
	border: 8px inset #98bf21;
	padding: 3px;
}
#illustra {
	background-color: LightGreen;
	min-height: 60%;
	width: 60%;
	position: absolute;
	top: 15%;
	left: 20%;
	border: 8px inset #98bf21;
	padding: 3px;
}

#illustra img {
	position: relative;
	top: 70px;
	left: 0%;
}
#illustra .id-randombutton {
	position: absolute;
	top: 0%;
	left: 5%;
}
#illustra .id-table {
	width: 80%;
	align: center;
	float: right;
}
#illustra .id-table td {
	text-align: center;
}
#illustra .id-table .id-th0 {
	width: 30%;
}
#illustra .id-table .id-th1 {
	width: 70%;
}
	</style>
</head>

<body>
	<img border="0" src="resources/logo.jpeg" alt="logo" width="7%" height="7%" />
	<h2 id="heading">MoeGirl<br />Project</h2>
	<div id="sidebar">
		<ul>
			<li id="li-illustra" class="active">萌娘图鉴</li>
			<li id="li-quest">萌娘问答</li>
		</ul>
	</div>
	<div id="content">
		<div id="illustra" class="active"></div>
		<div id="ans" class="inactive"></div>
		<div id="quest" class="inactive"></div>
	</div>
</body>
<script>
$(function() {
	function run(choice) {
		var active = $("#sidebar ul .active");
		active.removeClass("active");
		$("#sidebar #li-" + choice).addClass("active");
		$("#content div").removeClass("active");
		$("#content div").addClass("inactive");
		$("#content div").hide();
		$("#content #" + choice).removeClass("inactive");
		$("#content #" + choice).addClass("active");
		$("#content #" + choice).show();
		switch (choice) {
		case "illustra":
			MOEILLUSTRA.run("illustra");
			break;
		case "quest":
			MOEQUEST.run("quest", "ans");
			break;
		default:
			console.warn("no active page", choice);
			break;
		}
	}
	$("#sidebar li").click(function () {
		run($(this).attr("id").substring(3));
	});
	var urlparam = function () {
		// This function is anonymous, is executed immediately and 
		// the return value is assigned to QueryString!
		var query_string = {};
		var query = window.location.search.substring(1);
		var vars = query.split("&");
		for (var i=0;i<vars.length;i++) {
			var pair = vars[i].split("=");
				// If first entry with this name
			if (typeof query_string[pair[0]] === "undefined") {
			  query_string[pair[0]] = pair[1];
				// If second entry with this name
			} else if (typeof query_string[pair[0]] === "string") {
			  var arr = [ query_string[pair[0]], pair[1] ];
			  query_string[pair[0]] = arr;
				// If third or later entry with this name
			} else {
			  query_string[pair[0]].push(pair[1]);
			}
		}
		return query_string;
	} ();
	if (undefined !== urlparam.status) {
		run(urlparam.status);
	} else {
		run($("#sidebar ul .active").attr("id").substring(3));
	}
});
</script>
</html>
